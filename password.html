<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Enter Password</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#f7f7f7}
    .card{max-width:420px;margin:10vh auto;padding:24px;background:#fff;border:1px solid #e5e5e5;border-radius:8px}
    h1{font-size:20px;margin:0 0 12px}
    input{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;margin:8px 0}
    button{padding:10px 14px;border:0;border-radius:6px;cursor:pointer}
  </style>
</head>
<body>
  <div class="card">
    <h1>Protected</h1>
    <p>Please enter the password to continue.</p>
    <form id="login">
      <input type="password" name="password" placeholder="Password" required />
      <button type="submit">Enter</button>
      <p id="msg" style="color:#c00;margin-top:8px"></p>
    </form>
  </div>

  <script>
    document.getElementById('login').addEventListener('submit', async (e) => {
      e.preventDefault();
      const password = e.target.password.value;
      const r = await fetch('/api/login', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({ password })
      });
      if (r.ok) location.href = '/';
      else document.getElementById('msg').textContent = 'Incorrect password';
    });
  </script>
</body>
</html>
