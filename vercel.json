{
  "routes": [
    { "src": "^/api/login$", "dest": "/api/login.js" },
    { "src": "^/api/logout$", "dest": "/api/logout.js" },
    { "src": "^/password(?:\\.html)?$", "dest": "/password.html" },

    { "src": "^/.*\\.(?:css|js|png|jpg|jpeg|gif|svg|ico|txt|json|map|webp|woff2?)$", "dest": "$0" },

    {
      "src": "^(?!/api/(login|logout)|/password(?:\\.html)?).*$",
      "has": [{ "type": "cookie", "key": "site_auth" }],
      "continue": true
    },

    {
      "src": "^(?!/api/(login|logout)|/password(?:\\.html)?).*$",
      "dest": "/password.html"
    }
  ]
}
